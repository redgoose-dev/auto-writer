(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function c(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(r){if(r.ep)return;r.ep=!0;const n=c(r);fetch(r.href,n)}})();function w(t){const e=Math.floor(Math.random()*t.length);return t.substring(e,e+1)}function u(t,e={}){return new Promise(c=>{if(e=Object.assign({},{text:"shuffle text",waitChar:"-",charSpeed:1,moveFix:25,moveRange:10,moveTrigger:25,fps:60,pattern:"abcdefghijklmnopqrstuvwxyz0123456789-_!@#$%^&*()+~<>",randomTextType:"unicode",stream:null},e),e.text=e.text.trim(),!e.text)return c();let l=[],r,n,i,m,p=!1,d;function E(){let o=i.split("").map(a=>({t:a}));m=!0;for(let a=n;a<=r;a++){if(l[a]!==0&&l[a]!=null){m=!1;const g=l[a];if(Math.abs(g)<=e.moveTrigger){let y="";switch(e.randomTextType){case"pattern":y=w(e.pattern);break;case"unicode":default:const I=Math.min(Math.max(e.text.charCodeAt(a)+g,33),126);y=String.fromCharCode(I);break}o.push({t:y,m:"new"})}else o.push({t:e.waitChar,m:"wait"});g>0?l[a]-=1:l[a]+=1}else n===a-1&&(n=a,i=e.text.substring(0,n)),o.push({t:e.text.charAt(a),m:"done"});h(o)}r<=e.text.length?r+=e.charSpeed:p=!0,m&&p&&k()}function k(){d&&clearInterval(d),t&&delete t.dataset.id,h(i),c(e.text)}function h(o){t&&(t.textContent=Array.isArray(o)?o.map(a=>a.t).join(""):o),e.stream&&typeof e.stream=="function"&&e.stream(Array.isArray(o)?o:o.split("").map(a=>({t:a})))}t?.dataset.id&&(d=parseInt(t.dataset.id)),h(e.waitChar);for(let o=0;o<=e.text.length-1;o++)e.text.charAt(0)!==" "?l[o]=(e.moveFix+Math.round(Math.random()*e.moveRange))*(Math.round(Math.random())-.5)*2:l[o]=0;r=0,n=0,i="",d&&clearInterval(d),d=setInterval(E,1e3/e.fps),t&&(t.dataset.id=d.toString())})}const s={english:document.getElementById("src-english"),korean:document.getElementById("src-korean"),color:document.getElementById("src-color")},f={title:document.getElementById("title"),english:document.getElementById("demo-english"),korean:document.getElementById("demo-korean"),color:document.getElementById("demo-color")};function T(){const e=document.getElementById("title").textContent;function c(){u(document.getElementById("title"),{text:e,waitChar:"-",fps:30,charSpeed:.5,moveFix:25,moveRange:5,moveTrigger:25}).then(()=>setTimeout(()=>c(),5e3))}setTimeout(()=>c(),2e3)}function x(){u(f.english,{text:s.english.value}).then()}function v(){u(f.korean,{text:s.korean.value,pattern:"ㄱㄴㄷㄹㅁㅂㅅㅇㅈㅊㅋㅌㅍㅎㄲㄸㅃㅆㅉ",randomTextType:"pattern",fps:30}).then()}function b(){const t=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4caf50","#8bc34a","#cddc39","#ffeb3b","#ffc107","#ff9800","#ff5722","#795548","#9e9e9e","#607d8b"];u(null,{text:s.color.value,waitChar:"#",fps:20,stream:e=>{f.color.innerHTML="";for(let c=0;c<e.length;c++){let l=document.createElement("span");switch(l.append(e[c].t),e[c].m){case"new":l.style.color=t[Math.floor(Math.random()*t.length)];break;case"wait":l.style.color="silver";break;case"done":default:l.style.color="";break}f.color.append(l)}}}).then()}document.getElementById("button-english").addEventListener("click",x);document.getElementById("button-korean").addEventListener("click",v);document.getElementById("button-color").addEventListener("click",b);s.english.addEventListener("keypress",t=>{t.key==="Enter"&&x()});s.korean.addEventListener("keypress",t=>{t.key==="Enter"&&v()});s.color.addEventListener("keypress",t=>{t.key==="Enter"&&b()});T();
